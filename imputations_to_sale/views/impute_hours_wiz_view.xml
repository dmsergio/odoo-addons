<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <record id="impute_hours_wiz_form_view" model="ir.ui.view">
      <field name="name">impute_hours_wiz_form_view</field>
      <field name="model">impute.hours.wiz</field>
      <field name="arch" type="xml">
        <form string="Registro de Tiempos">
          <sheet>
            <group>
              <group>
                <field name="has_work_order_quantity_ids" invisible="1"/>
                <field name="partner_id"/>
                <field name="sale_id"
                       options="{'no_create': True}"
                       attrs="{'readonly': [('has_work_order_quantity_ids', '=', True)]}"/>
                <field name="product_id" options="{'no_create': True}"/>
                <field name="type_working_day"/>
              </group>
              <group>
                <field name="vip_customer"/>
                <field name="order_date"/>
                <field name="total_hours"/>
                <field name="subtotal" widget="monetary"/>
              </group>
            </group>
            <group attrs="{'invisible': [('sale_id', '=', False)]}">
              <group>
                <field name="work_order_quantity_ids">
                  <tree editable="top">
                    <field name="product_id"/>
                    <field name="product_qty"/>
                    <field name="product_uom_id"/>
                  </tree>
                </field>
              </group>
              <group>
                <button name="create_impute_to_sale" string="Aplicar" type="object"/>
              </group>
            </group>
            <group>
              <field name="sale_order_line_ids"
                     readonly="1"
                     attrs="{'invisible': [('sale_id', '=', False)]}">
                <tree default_order="order_date desc">
                  <field name="product_id"/>
                  <field name="name"/>
                  <field name="product_uom_qty"/>
                  <field name="product_uom"/>
                  <field name="order_date"/>
                  <field name="price_unit"/>
                  <field name="price_subtotal"/>
                </tree>
              </field>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <record id="impute_hours_wiz_action" model="ir.actions.act_window">
			<field name="name">Registro de tiempos</field>
			<field name="res_model">impute.hours.wiz</field>
			<field name="view_mode">form</field>
			<field name="target">inline</field>
		</record>

    <menuitem id="impute_hours_wiz_menu"
							name="Registro de tiempos"
							parent="impute_to_sale_menu"
							action="impute_hours_wiz_action"
							sequence="10"/>

  </data>
</odoo>
